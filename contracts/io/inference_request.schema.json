{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Inference Request",
  "description": "Request format for inference operations",
  "type": "object",
  "properties": {
    "request_id": {
      "type": "string",
      "description": "Unique request identifier"
    },
    "image": {
      "type": "string",
      "description": "Image data (base64 encoded) or path to image file"
    },
    "image_encoding": {
      "type": "string",
      "enum": ["base64", "path", "numpy_array"],
      "description": "How the image data is encoded"
    },
    "preprocess_options": {
      "type": "object",
      "properties": {
        "resize": {"type": "boolean"},
        "target_width": {"type": "integer"},
        "target_height": {"type": "integer"},
        "crop": {"type": "boolean"},
        "normalize": {"type": "boolean"}
      }
    },
    "detection_options": {
      "type": "object",
      "properties": {
        "confidence_threshold": {"type": "number", "minimum": 0, "maximum": 1},
        "iou_threshold": {"type": "number", "minimum": 0, "maximum": 1},
        "max_detections": {"type": "integer", "minimum": 1}
      }
    }
  },
  "required": ["image", "image_encoding"]
}
